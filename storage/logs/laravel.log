[2025-10-06 16:21:01] local.ERROR: No arguments expected for "license:list" command, got "17". {"exception":"[object] (Symfony\\Component\\Console\\Exception\\RuntimeException(code: 0): No arguments expected for \"license:list\" command, got \"17\". at C:\\xampp\\htdocs\\payroll-react\\vendor\\symfony\\console\\Input\\ArgvInput.php:199)
[stacktrace]
#0 C:\\xampp\\htdocs\\payroll-react\\vendor\\symfony\\console\\Input\\ArgvInput.php(92): Symfony\\Component\\Console\\Input\\ArgvInput->parseArgument('17')
#1 C:\\xampp\\htdocs\\payroll-react\\vendor\\symfony\\console\\Input\\ArgvInput.php(77): Symfony\\Component\\Console\\Input\\ArgvInput->parseToken('17', true)
#2 C:\\xampp\\htdocs\\payroll-react\\vendor\\symfony\\console\\Input\\Input.php(53): Symfony\\Component\\Console\\Input\\ArgvInput->parse()
#3 C:\\xampp\\htdocs\\payroll-react\\vendor\\symfony\\console\\Command\\Command.php(276): Symfony\\Component\\Console\\Input\\Input->bind(Object(Symfony\\Component\\Console\\Input\\InputDefinition))
#4 C:\\xampp\\htdocs\\payroll-react\\vendor\\laravel\\framework\\src\\Illuminate\\Console\\Command.php(180): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#5 C:\\xampp\\htdocs\\payroll-react\\vendor\\symfony\\console\\Application.php(1092): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#6 C:\\xampp\\htdocs\\payroll-react\\vendor\\symfony\\console\\Application.php(341): Symfony\\Component\\Console\\Application->doRunCommand(Object(App\\Console\\Commands\\ListLicenseKeys), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#7 C:\\xampp\\htdocs\\payroll-react\\vendor\\symfony\\console\\Application.php(192): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#8 C:\\xampp\\htdocs\\payroll-react\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Console\\Kernel.php(197): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#9 C:\\xampp\\htdocs\\payroll-react\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(1234): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#10 C:\\xampp\\htdocs\\payroll-react\\artisan(16): Illuminate\\Foundation\\Application->handleCommand(Object(Symfony\\Component\\Console\\Input\\ArgvInput))
#11 {main}
"} 
[2025-10-18 15:37:24] local.INFO: Automation Create called with: {"schedule":"semi_monthly"}  
[2025-10-18 15:37:24] local.INFO: Schedule Code: semi_monthly  
[2025-10-18 15:37:27] local.INFO: Draft Payroll Calculation for Employee 40 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":0,"allowances_details":[],"bonuses":0,"bonuses_details":[],"incentives":0,"incentives_details":[],"gross_pay":0.0,"net_pay":0.0,"hours_worked":0,"days_worked":0,"regular_hours":0,"overtime_hours":0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0,"undertime_hours":0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-10-18 15:37:33] local.INFO: Generating DTR data for period {"employee_id":40,"employee_name":"King Viel Mallari","start_date":"2025-10-16","end_date":"2025-10-31"} 
[2025-10-18 15:37:33] local.INFO: Found existing time logs {"count":0,"dates":[]} 
[2025-10-18 15:37:33] local.INFO: Generated DTR data {"total_days":16,"days_with_time_logs":0} 
[2025-10-18 15:37:36] local.INFO: Bulk time log storage started {"employee_id":"40","time_logs_count":16} 
[2025-10-18 15:37:36] local.INFO: Bulk validation debug {"available_log_types":["regular_workday","rest_day","special_holiday","regular_holiday","rest_day_regular_holiday","rest_day_special_holiday","full_day_suspension","partial_suspension"],"request_time_logs":[{"log_date":"2025-10-16","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-17","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-18","time_in":"","time_out":"","break_in":"","break_out":"","log_type":"rest_day","is_rest_day":"1"},{"log_date":"2025-10-19","time_in":"","time_out":"","break_in":"","break_out":"","log_type":"rest_day","is_rest_day":"1"},{"log_date":"2025-10-20","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-21","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-22","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-23","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-24","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-25","time_in":"","time_out":"","break_in":"","break_out":"","log_type":"rest_day","is_rest_day":"1"},{"log_date":"2025-10-26","time_in":"","time_out":"","break_in":"","break_out":"","log_type":"rest_day","is_rest_day":"1"},{"log_date":"2025-10-27","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-28","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-29","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-30","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"},{"log_date":"2025-10-31","time_in":"08:00","time_out":"17:00","break_in":"12:00","break_out":"13:00","log_type":"regular_workday"}]} 
[2025-10-18 15:37:36] local.INFO: Bulk time log validation passed {"validated_time_logs_count":16} 
[2025-10-18 15:37:37] local.ERROR: Failed to update payroll totals: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'employee_id' in 'where clause' (Connection: mysql, SQL: select * from `payrolls` where `employee_id` = 40 and date(`period_start`) = 2025-10-16 and date(`period_end`) = 2025-10-31 limit 1)  
[2025-10-18 15:37:38] local.INFO: Draft Payroll Calculation for Employee 40 {"basic_salary":0,"regular_pay":14400.0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":0,"allowances_details":[],"bonuses":0,"bonuses_details":[],"incentives":0,"incentives_details":[],"gross_pay":14400.0,"net_pay":14400.0,"hours_worked":96.0,"days_worked":12,"regular_hours":96.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-10-18 15:37:43] local.INFO: Starting individual payroll creation for 1 employees  
[2025-10-18 15:37:43] local.INFO: Creating payroll for employee: 40 - King Viel Mallari  
[2025-10-18 15:37:43] local.INFO: Processing Payroll Calculation for Employee 40 {"basic_salary":0,"regular_pay":14400.0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":0,"allowances_details":[],"bonuses":0,"bonuses_details":[],"incentives":0,"incentives_details":[],"gross_pay":14400.0,"net_pay":14400.0,"hours_worked":96.0,"days_worked":12,"regular_hours":96.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-10-18 15:37:43] local.INFO: Created payroll SM-202510-001 for employee 40  
[2025-10-18 15:37:43] local.INFO: Created payroll detail for employee 40: Gross: 14400, Net: 14400  
[2025-10-18 15:37:43] local.INFO: Creating snapshots for payroll 4181  
[2025-10-18 15:37:43] local.INFO: Creating snapshots for payroll 4181  
[2025-10-18 15:37:43] local.INFO: Employee breakdown data for employee 40 {"employee_name":"King Viel Mallari","hourly_rate":"150.00","breakdown_count":1,"breakdown_types":["regular_workday"]} 
[2025-10-18 15:37:43] local.INFO: Snapshot breakdown debug for employee 40 {"employee_name":"King Viel Mallari","time_breakdown_keys":["regular_workday"],"basic_breakdown":{"Regular Workday":{"hours":96.0,"minutes":5760.0,"rate":"150.00","rate_per_minute":2.5,"multiplier":"1.0000","amount":14400.0,"description":"Regular Workday: 5760m","workday_hours":96.0,"suspension_hours":0}},"suspension_breakdown":[],"suspension_breakdown_empty":true,"basic_breakdown_before_merge":{"Regular Workday":{"hours":96.0,"minutes":5760.0,"rate":"150.00","rate_per_minute":2.5,"multiplier":"1.0000","amount":14400.0,"description":"Regular Workday: 5760m","workday_hours":96.0,"suspension_hours":0}}} 
[2025-10-18 15:37:43] local.INFO: No suspension breakdown to merge for employee 40  
[2025-10-18 15:37:43] local.INFO: Snapshot calculation for employee 40 {"basic_pay":14400.0,"regular_workday_pay":14400.0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"regular_workday_hours":96.0,"regular_workday_overtime_hours":0.0,"total_regular_hours_all_types":96.0,"total_overtime_hours_all_types":0.0,"total_holiday_hours":0,"gross_pay":14400.0} 
[2025-10-18 15:37:43] local.INFO: Base taxable income calculation for employee 40 {"basic_pay":14400.0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":14400.0} 
[2025-10-18 15:37:43] local.INFO: Processing allowance/bonus settings for taxable income {"employee_id":40,"allowance_settings":{"Illuminate\\Database\\Eloquent\\Collection":[]},"bonus_settings":{"Illuminate\\Database\\Eloquent\\Collection":[]}} 
[2025-10-18 15:37:43] local.INFO: Processing incentive settings for taxable income {"employee_id":40,"incentive_settings":{"Illuminate\\Database\\Eloquent\\Collection":[]}} 
[2025-10-18 15:37:43] local.INFO: Final taxable income calculation for employee 40 {"basic_pay":14400.0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":14400.0,"base_total":14400.0,"gross_pay":14400.0,"final_taxable_income":14400.0,"allowance_settings_count":0,"bonus_settings_count":0} 
[2025-10-18 15:37:44] local.INFO: Updated payroll_details for employee 40 to match snapshot {"regular_pay":14400.0,"holiday_pay":0,"overtime_pay":0,"gross_pay":14400.0} 
[2025-10-18 15:37:44] local.INFO: Created snapshot for employee 40 with calculated values {"payroll_id":4181,"employee_id":40,"basic_pay":14400.0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"gross_pay":14400.0,"total_deductions":0,"net_pay":14400.0,"deductions_count":4} 
[2025-10-18 15:37:44] local.INFO: Successfully created 1 snapshots for payroll 4181  
[2025-10-18 15:37:44] local.INFO: Successfully created 1 individual payrolls for Semi Monthly schedule  
[2025-10-18 15:37:47] local.INFO: Draft Payroll Calculation for Employee 40 {"basic_salary":0,"regular_pay":14400.0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":0,"allowances_details":[],"bonuses":0,"bonuses_details":[],"incentives":0,"incentives_details":[],"gross_pay":14400.0,"net_pay":14400.0,"hours_worked":96.0,"days_worked":12,"regular_hours":96.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-10-18 15:37:49] local.INFO: Starting individual payroll creation for 1 employees  
[2025-10-18 15:37:49] local.INFO: Creating payroll for employee: 40 - King Viel Mallari  
[2025-10-18 15:37:49] local.INFO: Processing Payroll Calculation for Employee 40 {"basic_salary":0,"regular_pay":14400.0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":0,"allowances_details":[],"bonuses":0,"bonuses_details":[],"incentives":0,"incentives_details":[],"gross_pay":14400.0,"net_pay":14400.0,"hours_worked":96.0,"days_worked":12,"regular_hours":96.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-10-18 15:37:49] local.INFO: Created payroll SM-202510-001 for employee 40  
[2025-10-18 15:37:49] local.INFO: Created payroll detail for employee 40: Gross: 14400, Net: 14400  
[2025-10-18 15:37:49] local.INFO: Creating snapshots for payroll 4182  
[2025-10-18 15:37:49] local.INFO: Creating snapshots for payroll 4182  
[2025-10-18 15:37:49] local.INFO: Employee breakdown data for employee 40 {"employee_name":"King Viel Mallari","hourly_rate":"150.00","breakdown_count":1,"breakdown_types":["regular_workday"]} 
[2025-10-18 15:37:49] local.INFO: Snapshot breakdown debug for employee 40 {"employee_name":"King Viel Mallari","time_breakdown_keys":["regular_workday"],"basic_breakdown":{"Regular Workday":{"hours":96.0,"minutes":5760.0,"rate":"150.00","rate_per_minute":2.5,"multiplier":"1.0000","amount":14400.0,"description":"Regular Workday: 5760m","workday_hours":96.0,"suspension_hours":0}},"suspension_breakdown":[],"suspension_breakdown_empty":true,"basic_breakdown_before_merge":{"Regular Workday":{"hours":96.0,"minutes":5760.0,"rate":"150.00","rate_per_minute":2.5,"multiplier":"1.0000","amount":14400.0,"description":"Regular Workday: 5760m","workday_hours":96.0,"suspension_hours":0}}} 
[2025-10-18 15:37:49] local.INFO: No suspension breakdown to merge for employee 40  
[2025-10-18 15:37:49] local.INFO: Snapshot calculation for employee 40 {"basic_pay":14400.0,"regular_workday_pay":14400.0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"regular_workday_hours":96.0,"regular_workday_overtime_hours":0.0,"total_regular_hours_all_types":96.0,"total_overtime_hours_all_types":0.0,"total_holiday_hours":0,"gross_pay":14400.0} 
[2025-10-18 15:37:49] local.INFO: Base taxable income calculation for employee 40 {"basic_pay":14400.0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":14400.0} 
[2025-10-18 15:37:49] local.INFO: Processing allowance/bonus settings for taxable income {"employee_id":40,"allowance_settings":{"Illuminate\\Database\\Eloquent\\Collection":[]},"bonus_settings":{"Illuminate\\Database\\Eloquent\\Collection":[]}} 
[2025-10-18 15:37:49] local.INFO: Processing incentive settings for taxable income {"employee_id":40,"incentive_settings":{"Illuminate\\Database\\Eloquent\\Collection":[]}} 
[2025-10-18 15:37:49] local.INFO: Final taxable income calculation for employee 40 {"basic_pay":14400.0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":14400.0,"base_total":14400.0,"gross_pay":14400.0,"final_taxable_income":14400.0,"allowance_settings_count":0,"bonus_settings_count":0} 
[2025-10-18 15:37:49] local.INFO: Updated payroll_details for employee 40 to match snapshot {"regular_pay":14400.0,"holiday_pay":0,"overtime_pay":0,"gross_pay":14400.0} 
[2025-10-18 15:37:49] local.INFO: Created snapshot for employee 40 with calculated values {"payroll_id":4182,"employee_id":40,"basic_pay":14400.0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"gross_pay":14400.0,"total_deductions":0,"net_pay":14400.0,"deductions_count":4} 
[2025-10-18 15:37:49] local.INFO: Successfully created 1 snapshots for payroll 4182  
[2025-10-18 15:37:49] local.INFO: Successfully created 1 individual payrolls for Semi Monthly schedule  
[2025-10-18 15:38:01] local.INFO: Employee shares calculations updated for paid payroll {"payroll_id":4182,"payroll_number":"SM-202510-001"} 
[2025-10-18 15:38:01] local.INFO: Payroll marked as paid {"payroll_id":4182,"payroll_number":"SM-202510-001","marked_by":1,"proof_files_count":0} 
[2025-10-23 15:13:23] local.INFO: Automation Create called with: {"schedule":"semi_monthly"}  
[2025-10-23 15:13:23] local.INFO: Schedule Code: semi_monthly  
[2025-10-23 15:13:29] local.INFO: Automation Create called with: {"schedule":"semi_monthly"}  
[2025-10-23 15:13:29] local.INFO: Schedule Code: semi_monthly  
[2025-10-23 15:14:45] local.INFO: Automation Create called with: {"schedule":"semi_monthly"}  
[2025-10-23 15:14:45] local.INFO: Schedule Code: semi_monthly  
[2025-10-23 15:15:08] local.INFO: Automation Create called with: {"schedule":"semi_monthly"}  
[2025-10-23 15:15:08] local.INFO: Schedule Code: semi_monthly  
