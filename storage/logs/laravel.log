[2025-11-21 21:41:52] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:41:52] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:41:52] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:41:52] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:41:52] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:41:52] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:41:52] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:41:52] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:41:52] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:41:52] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:41:52] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:41:52] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:41:52] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:41:52] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:41:52] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:42:03] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:03] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:42:03] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:03] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:42:03] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:42:03] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:42:03] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:42:03] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:42:03] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:03] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:03] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:42:03] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:42:03] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:42:03] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:42:03] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:42:06] local.INFO: ProcessUnifiedPayroll called {"schedule":"SEMI-2","id":"46","user":1} 
[2025-11-21 21:42:06] local.INFO: User authorized for payroll processing  
[2025-11-21 21:42:06] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:42:06] local.INFO: Creating payroll for employee: 46 - Ramon Rius  
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:07] local.INFO: Processing Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:42:07] local.WARNING: Failed to create payroll for employee 46: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'pay_schedule' at row 1 (Connection: mysql, SQL: insert into `payrolls` (`payroll_number`, `pay_schedule`, `period_start`, `period_end`, `pay_date`, `status`, `payroll_type`, `created_by`, `total_gross`, `total_deductions`, `total_net`, `updated_at`, `created_at`) values (SEM-202511-001, SEMI-2, 2025-11-06 00:00:00, 2025-11-20 00:00:00, 2025-11-25 00:00:00, processing, automated, 1, 5300, 0, 5300, 2025-11-21 21:42:07, 2025-11-21 21:42:07))  
[2025-11-21 21:42:07] local.INFO: Successfully created 0 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:42:07] local.ERROR: Failed to process unified payroll: Attempt to read property "id" on null  
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:07] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:42:07] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:07] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:42:07] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:42:07] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:42:07] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:42:07] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:07] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:07] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:42:07] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:42:07] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:42:07] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:42:07] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:42:20] local.INFO: ProcessUnifiedPayroll called {"schedule":"SEMI-2","id":"46","user":1} 
[2025-11-21 21:42:20] local.INFO: User authorized for payroll processing  
[2025-11-21 21:42:20] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:42:20] local.INFO: Creating payroll for employee: 46 - Ramon Rius  
[2025-11-21 21:42:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:42:20] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:20] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:20] local.INFO: Processing Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:42:20] local.WARNING: Failed to create payroll for employee 46: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'pay_schedule' at row 1 (Connection: mysql, SQL: insert into `payrolls` (`payroll_number`, `pay_schedule`, `period_start`, `period_end`, `pay_date`, `status`, `payroll_type`, `created_by`, `total_gross`, `total_deductions`, `total_net`, `updated_at`, `created_at`) values (SEM-202511-001, SEMI-2, 2025-11-06 00:00:00, 2025-11-20 00:00:00, 2025-11-25 00:00:00, processing, automated, 1, 5300, 0, 5300, 2025-11-21 21:42:20, 2025-11-21 21:42:20))  
[2025-11-21 21:42:20] local.INFO: Successfully created 0 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:42:20] local.ERROR: Failed to process unified payroll: Attempt to read property "id" on null  
[2025-11-21 21:42:21] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:21] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:42:21] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:21] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:42:21] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:42:21] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:42:21] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:42:21] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:42:21] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:21] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:21] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:42:21] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:42:21] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:42:21] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:42:21] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:42:50] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:42:50] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:50] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:50] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:42:50] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:50] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:50] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:50] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:50] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:50] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:50] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:50] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:50] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:50] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:50] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:50] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:51] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:51] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:51] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:51] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:51] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:42:51] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:42:51] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:42:51] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:42:51] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:42:51] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:42:51] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:42:51] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:42:51] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:42:51] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:42:51] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:42:51] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:42:51] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:42:51] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:10] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:10] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:10] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:10] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:10] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:10] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:10] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:10] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:10] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:10] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:10] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:10] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:10] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:10] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:10] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:11] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:11] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:11] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:11] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:11] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:11] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:11] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:11] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:11] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:11] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:11] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:11] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:11] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:11] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:11] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:11] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:12] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:12] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:12] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:12] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:12] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:12] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:12] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:12] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:12] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:12] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:12] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:12] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:12] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:12] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:12] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:12] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:12] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:12] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:16] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:16] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:16] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:16] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:16] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:16] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:16] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:16] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:16] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:16] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:16] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:16] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:16] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:16] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:16] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:17] local.INFO: ProcessUnifiedPayroll called {"schedule":"SEMI-2","id":"46","user":1} 
[2025-11-21 21:43:17] local.INFO: User authorized for payroll processing  
[2025-11-21 21:43:17] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:43:17] local.INFO: Creating payroll for employee: 46 - Ramon Rius  
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:18] local.INFO: Processing Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:18] local.WARNING: Failed to create payroll for employee 46: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'pay_schedule' at row 1 (Connection: mysql, SQL: insert into `payrolls` (`payroll_number`, `pay_schedule`, `period_start`, `period_end`, `pay_date`, `status`, `payroll_type`, `created_by`, `total_gross`, `total_deductions`, `total_net`, `updated_at`, `created_at`) values (SEM-202511-001, SEMI-2, 2025-11-06 00:00:00, 2025-11-20 00:00:00, 2025-11-25 00:00:00, processing, automated, 1, 5300, 0, 5300, 2025-11-21 21:43:18, 2025-11-21 21:43:18))  
[2025-11-21 21:43:18] local.INFO: Successfully created 0 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:43:18] local.ERROR: Failed to process unified payroll: Attempt to read property "id" on null  
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:18] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:18] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:18] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:18] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:18] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:18] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:18] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:18] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:18] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:18] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:18] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:18] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:18] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:19] local.INFO: ProcessUnifiedPayroll called {"schedule":"SEMI-2","id":"46","user":1} 
[2025-11-21 21:43:19] local.INFO: User authorized for payroll processing  
[2025-11-21 21:43:19] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:43:19] local.INFO: Creating payroll for employee: 46 - Ramon Rius  
[2025-11-21 21:43:19] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:19] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:19] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:19] local.INFO: Processing Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:19] local.WARNING: Failed to create payroll for employee 46: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'pay_schedule' at row 1 (Connection: mysql, SQL: insert into `payrolls` (`payroll_number`, `pay_schedule`, `period_start`, `period_end`, `pay_date`, `status`, `payroll_type`, `created_by`, `total_gross`, `total_deductions`, `total_net`, `updated_at`, `created_at`) values (SEM-202511-001, SEMI-2, 2025-11-06 00:00:00, 2025-11-20 00:00:00, 2025-11-25 00:00:00, processing, automated, 1, 5300, 0, 5300, 2025-11-21 21:43:19, 2025-11-21 21:43:19))  
[2025-11-21 21:43:19] local.INFO: Successfully created 0 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:43:19] local.ERROR: Failed to process unified payroll: Attempt to read property "id" on null  
[2025-11-21 21:43:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:20] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:20] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:20] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:20] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:20] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:20] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:20] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:20] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:20] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:20] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:20] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:20] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:20] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:32] local.INFO: ProcessUnifiedPayroll called {"schedule":"SEMI-2","id":"46","user":1} 
[2025-11-21 21:43:32] local.INFO: User authorized for payroll processing  
[2025-11-21 21:43:32] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:43:32] local.INFO: Creating payroll for employee: 46 - Ramon Rius  
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:32] local.INFO: Processing Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:32] local.WARNING: Failed to create payroll for employee 46: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'pay_schedule' at row 1 (Connection: mysql, SQL: insert into `payrolls` (`payroll_number`, `pay_schedule`, `period_start`, `period_end`, `pay_date`, `status`, `payroll_type`, `created_by`, `total_gross`, `total_deductions`, `total_net`, `updated_at`, `created_at`) values (SEM-202511-001, SEMI-2, 2025-11-06 00:00:00, 2025-11-20 00:00:00, 2025-11-25 00:00:00, processing, automated, 1, 5300, 0, 5300, 2025-11-21 21:43:32, 2025-11-21 21:43:32))  
[2025-11-21 21:43:32] local.INFO: Successfully created 0 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:43:32] local.ERROR: Failed to process unified payroll: Attempt to read property "id" on null  
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:32] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:32] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:32] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:32] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:32] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:32] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:32] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:32] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:32] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:32] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:32] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:32] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:32] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:33] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:33] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:33] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:33] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:33] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:33] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:33] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:33] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:33] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:33] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:33] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:33] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:33] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:33] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:33] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:40] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:40] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:40] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:40] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:40] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:40] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:40] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:40] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:40] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:40] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:40] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:40] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:40] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:40] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:40] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:41] local.INFO: ProcessUnifiedPayroll called {"schedule":"SEMI-2","id":"46","user":1} 
[2025-11-21 21:43:41] local.INFO: User authorized for payroll processing  
[2025-11-21 21:43:41] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:43:41] local.INFO: Creating payroll for employee: 46 - Ramon Rius  
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:41] local.INFO: Processing Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:41] local.WARNING: Failed to create payroll for employee 46: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'pay_schedule' at row 1 (Connection: mysql, SQL: insert into `payrolls` (`payroll_number`, `pay_schedule`, `period_start`, `period_end`, `pay_date`, `status`, `payroll_type`, `created_by`, `total_gross`, `total_deductions`, `total_net`, `updated_at`, `created_at`) values (SEM-202511-001, SEMI-2, 2025-11-06 00:00:00, 2025-11-20 00:00:00, 2025-11-25 00:00:00, processing, automated, 1, 5300, 0, 5300, 2025-11-21 21:43:41, 2025-11-21 21:43:41))  
[2025-11-21 21:43:41] local.INFO: Successfully created 0 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:43:41] local.ERROR: Failed to process unified payroll: Attempt to read property "id" on null  
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:41] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:43:41] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:41] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:41] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:41] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:41] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:43:41] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:43:41] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:43:41] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:43:41] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:43:41] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:43:41] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:43:41] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:46:00] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:00] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:00] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:00] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:00] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:00] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:02] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:02] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:46:02] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:02] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:46:02] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:46:02] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:46:02] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:46:02] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:46:02] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:02] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:02] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:46:02] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:46:02] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:46:02] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:46:02] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:46:04] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:46:04] local.INFO: Creating payroll for employee: 46 - Ramon Rius  
[2025-11-21 21:46:04] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:04] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:04] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:04] local.INFO: Processing Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:46:06] local.INFO: Created payroll SEM-202511-001 for employee 46  
[2025-11-21 21:46:06] local.INFO: Created payroll detail for employee 46: Gross: 5300, Net: 5300  
[2025-11-21 21:46:08] local.INFO: Creating snapshots for payroll 4188  
[2025-11-21 21:46:08] local.INFO: Creating snapshots for payroll 4188  
[2025-11-21 21:46:08] local.INFO: Employee breakdown data for employee 46 {"employee_name":"Ramon Rius","hourly_rate":77.22222222222223,"breakdown_count":0,"breakdown_types":[]} 
[2025-11-21 21:46:08] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:08] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":1} 
[2025-11-21 21:46:08] local.INFO: Adding payroll detail to 13th month {"payroll_id":4188,"regular_pay":"0.00","holiday_pay":"0.00","running_total":0.0} 
[2025-11-21 21:46:08] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0.0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:08] local.INFO: Snapshot breakdown debug for employee 46 {"employee_name":"Ramon Rius","time_breakdown_keys":[],"basic_breakdown":[],"suspension_breakdown":[],"suspension_breakdown_empty":true,"basic_breakdown_before_merge":[]} 
[2025-11-21 21:46:08] local.INFO: No suspension breakdown to merge for employee 46  
[2025-11-21 21:46:08] local.INFO: Distribution applied to bonus {"bonus_name":"Communication Allowance","employee_id":46,"original_amount":"300.00","distributed_amount":150.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:08] local.INFO: Distribution applied to bonus {"bonus_name":"Transportation Allowance","employee_id":46,"original_amount":"1500.00","distributed_amount":0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:08] local.INFO: Distribution applied to bonus {"bonus_name":"RA","employee_id":46,"original_amount":"4000.00","distributed_amount":2000.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:08] local.INFO: Distribution applied to bonus {"bonus_name":"TA","employee_id":46,"original_amount":"300.00","distributed_amount":150.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:08] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:46:08] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:46:08] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:46:08] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:46:08] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:46:08] local.INFO: Automatic bonus calculation result {"setting_name":"13th Month","employee_id":46,"calculated_amount":51.48,"has_breakdown_data":true,"frequency":"per_payroll","distribution_method":"last_payroll"} 
[2025-11-21 21:46:08] local.INFO: Distribution applied to bonus {"bonus_name":"13th Month","employee_id":46,"original_amount":51.48,"distributed_amount":51.48,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:08] local.INFO: Bonus calculation in getEmployeeBonusesBreakdown {"bonus_name":"13th Month","employee_id":46,"raw_calculated_amount":51.48,"calculation_type":"automatic","has_breakdown_data":true} 
[2025-11-21 21:46:08] local.INFO: Distribution applied to bonus {"bonus_name":"PB","employee_id":46,"original_amount":"3000.00","distributed_amount":"3000.00","pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:08] local.INFO: Bonus calculation in getEmployeeBonusesBreakdown {"bonus_name":"PB","employee_id":46,"raw_calculated_amount":3000.0,"calculation_type":"fixed_amount","has_breakdown_data":true} 
[2025-11-21 21:46:08] local.INFO: Snapshot calculation for employee 46 {"basic_pay":0,"regular_workday_pay":0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"regular_workday_hours":0,"regular_workday_overtime_hours":0,"total_regular_hours_all_types":0,"total_overtime_hours_all_types":0,"total_holiday_hours":0,"gross_pay":5300.0} 
[2025-11-21 21:46:08] local.INFO: Base taxable income calculation for employee 46 {"basic_pay":0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":0} 
[2025-11-21 21:46:08] local.INFO: Processing allowance/bonus settings for taxable income {"employee_id":46,"allowance_settings":{"Illuminate\\Support\\Collection":[{"code":"rice_allowance","name":"RA","is_taxable":true,"type":"allowance"},{"code":"transportation_allowance","name":"TA","is_taxable":false,"type":"allowance"},{"code":"load_allowance","name":"Communication Allowance","is_taxable":false,"type":"allowance"},{"code":"transportation_allowance_1","name":"Transportation Allowance","is_taxable":false,"type":"allowance"}]},"bonus_settings":{"Illuminate\\Support\\Collection":[{"code":"13th_month_bonus","name":"13th Month","is_taxable":false,"type":"bonus"},{"code":"performance_bonus","name":"PB","is_taxable":true,"type":"bonus"}]}} 
[2025-11-21 21:46:08] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"rice_allowance","setting_name":"RA","setting_type":"allowance","is_taxable":true,"calculation_type":"fixed_amount","fixed_amount":"4000.00","frequency":"monthly"} 
[2025-11-21 21:46:08] local.INFO: Processing taxable setting: rice_allowance (allowance)  
[2025-11-21 21:46:08] local.INFO: Added taxable distributed amount {"setting_code":"rice_allowance","setting_type":"allowance","original_amount":"4000.00","distributed_amount":2000.0,"running_taxable_income":2000.0} 
[2025-11-21 21:46:08] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"transportation_allowance","setting_name":"TA","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"300.00","frequency":"monthly"} 
[2025-11-21 21:46:08] local.INFO: Skipping non-taxable setting: transportation_allowance (allowance)  
[2025-11-21 21:46:08] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"load_allowance","setting_name":"Communication Allowance","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"300.00","frequency":"monthly"} 
[2025-11-21 21:46:08] local.INFO: Skipping non-taxable setting: load_allowance (allowance)  
[2025-11-21 21:46:08] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"transportation_allowance_1","setting_name":"Transportation Allowance","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"1500.00","frequency":"monthly"} 
[2025-11-21 21:46:08] local.INFO: Skipping non-taxable setting: transportation_allowance_1 (allowance)  
[2025-11-21 21:46:08] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"13th_month_bonus","setting_name":"13th Month","setting_type":"bonus","is_taxable":false,"calculation_type":"automatic","fixed_amount":"211.00","frequency":"per_payroll"} 
[2025-11-21 21:46:08] local.INFO: Skipping non-taxable setting: 13th_month_bonus (bonus)  
[2025-11-21 21:46:08] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"performance_bonus","setting_name":"PB","setting_type":"bonus","is_taxable":true,"calculation_type":"fixed_amount","fixed_amount":"3000.00","frequency":"per_payroll"} 
[2025-11-21 21:46:08] local.INFO: Processing taxable setting: performance_bonus (bonus)  
[2025-11-21 21:46:08] local.INFO: Added taxable distributed amount {"setting_code":"performance_bonus","setting_type":"bonus","original_amount":"3000.00","distributed_amount":"3000.00","running_taxable_income":5000.0} 
[2025-11-21 21:46:08] local.INFO: Processing incentive settings for taxable income {"employee_id":46,"incentive_settings":{"Illuminate\\Support\\Collection":[{"code":"perfect_attendance_test","name":"PA","is_taxable":true,"type":"incentives"}]}} 
[2025-11-21 21:46:08] local.INFO: Evaluating incentive setting for taxable income {"employee_id":46,"setting_code":"perfect_attendance_test","setting_name":"PA","setting_type":"incentives","is_taxable":true,"requires_perfect_attendance":true} 
[2025-11-21 21:46:08] local.INFO: Skipping incentive setting due to imperfect attendance: perfect_attendance_test for employee 46  
[2025-11-21 21:46:08] local.INFO: Final taxable income calculation for employee 46 {"basic_pay":0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":0,"base_total":0,"gross_pay":5351.48,"final_taxable_income":5000.0,"allowance_settings_count":4,"bonus_settings_count":2} 
[2025-11-21 21:46:10] local.INFO: Updated payroll_details for employee 46 to match snapshot {"regular_pay":0,"holiday_pay":0,"overtime_pay":0,"gross_pay":5351.48} 
[2025-11-21 21:46:10] local.INFO: Created snapshot for employee 46 with calculated values {"payroll_id":4188,"employee_id":46,"basic_pay":0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"gross_pay":5351.48,"total_deductions":0,"net_pay":5351.48,"deductions_count":3} 
[2025-11-21 21:46:10] local.INFO: Successfully created 1 snapshots for payroll 4188  
[2025-11-21 21:46:10] local.INFO: Successfully created 1 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:46:28] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:28] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:28] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:28] local.INFO: Draft Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:46:28] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:28] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:28] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:28] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:29] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:29] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:29] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:29] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:29] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:29] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:29] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:29] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:29] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:29] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:29] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:29] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:29] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:46:29] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:46:29] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:46:29] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:46:29] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:46:29] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:29] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:29] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:29] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:29] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:46:29] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:46:29] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:46:29] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:46:29] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:46:30] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:46:30] local.INFO: Creating payroll for employee: 46 - Ramon Rius  
[2025-11-21 21:46:30] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:30] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:30] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:30] local.INFO: Processing Payroll Calculation for Employee 46 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0.0,"days_worked":0,"regular_hours":0.0,"overtime_hours":0.0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0.0,"undertime_hours":0.0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:46:30] local.INFO: Created payroll SEM-202511-001 for employee 46  
[2025-11-21 21:46:30] local.INFO: Created payroll detail for employee 46: Gross: 5300, Net: 5300  
[2025-11-21 21:46:30] local.INFO: Creating snapshots for payroll 4189  
[2025-11-21 21:46:30] local.INFO: Creating snapshots for payroll 4189  
[2025-11-21 21:46:30] local.INFO: Employee breakdown data for employee 46 {"employee_name":"Ramon Rius","hourly_rate":77.22222222222223,"breakdown_count":0,"breakdown_types":[]} 
[2025-11-21 21:46:30] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:30] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":46,"year":"2025","payroll_count":1} 
[2025-11-21 21:46:30] local.INFO: Adding payroll detail to 13th month {"payroll_id":4189,"regular_pay":"0.00","holiday_pay":"0.00","running_total":0.0} 
[2025-11-21 21:46:30] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":46,"total_basic_pay_for_year":0.0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:30] local.INFO: Snapshot breakdown debug for employee 46 {"employee_name":"Ramon Rius","time_breakdown_keys":[],"basic_breakdown":[],"suspension_breakdown":[],"suspension_breakdown_empty":true,"basic_breakdown_before_merge":[]} 
[2025-11-21 21:46:30] local.INFO: No suspension breakdown to merge for employee 46  
[2025-11-21 21:46:30] local.INFO: Distribution applied to bonus {"bonus_name":"Communication Allowance","employee_id":46,"original_amount":"300.00","distributed_amount":150.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:30] local.INFO: Distribution applied to bonus {"bonus_name":"Transportation Allowance","employee_id":46,"original_amount":"1500.00","distributed_amount":0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:30] local.INFO: Distribution applied to bonus {"bonus_name":"RA","employee_id":46,"original_amount":"4000.00","distributed_amount":2000.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:30] local.INFO: Distribution applied to bonus {"bonus_name":"TA","employee_id":46,"original_amount":"300.00","distributed_amount":150.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:30] local.INFO: Processing holiday type: Special Holiday {"has_fixed_amount":true,"fixed_amount":617.78,"total_amount":617.78} 
[2025-11-21 21:46:30] local.INFO: Added holiday fixed amount for Special Holiday: 617.78, total: 617.78  
[2025-11-21 21:46:30] local.INFO: 13th Month Final Calculation {"total_fixed_pay":617.78,"expected_total":2780.0,"monthly_13th":51.48166666666666} 
[2025-11-21 21:46:30] local.INFO: 13th Month calculation logic check {"employee_id":46,"has_breakdown_data":true,"current_fixed_pay":617.78,"breakdown_data_count":2,"will_use_current_only":true} 
[2025-11-21 21:46:30] local.INFO: Using current period only for 13th month (snapshot mode) {"employee_id":46,"current_period_fixed_pay":617.78,"monthly_amount":51.48,"reason":"Snapshot calculation - using current period only"} 
[2025-11-21 21:46:30] local.INFO: Automatic bonus calculation result {"setting_name":"13th Month","employee_id":46,"calculated_amount":51.48,"has_breakdown_data":true,"frequency":"per_payroll","distribution_method":"last_payroll"} 
[2025-11-21 21:46:30] local.INFO: Distribution applied to bonus {"bonus_name":"13th Month","employee_id":46,"original_amount":51.48,"distributed_amount":51.48,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:30] local.INFO: Bonus calculation in getEmployeeBonusesBreakdown {"bonus_name":"13th Month","employee_id":46,"raw_calculated_amount":51.48,"calculation_type":"automatic","has_breakdown_data":true} 
[2025-11-21 21:46:30] local.INFO: Distribution applied to bonus {"bonus_name":"PB","employee_id":46,"original_amount":"3000.00","distributed_amount":"3000.00","pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:30] local.INFO: Bonus calculation in getEmployeeBonusesBreakdown {"bonus_name":"PB","employee_id":46,"raw_calculated_amount":3000.0,"calculation_type":"fixed_amount","has_breakdown_data":true} 
[2025-11-21 21:46:30] local.INFO: Snapshot calculation for employee 46 {"basic_pay":0,"regular_workday_pay":0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"regular_workday_hours":0,"regular_workday_overtime_hours":0,"total_regular_hours_all_types":0,"total_overtime_hours_all_types":0,"total_holiday_hours":0,"gross_pay":5300.0} 
[2025-11-21 21:46:30] local.INFO: Base taxable income calculation for employee 46 {"basic_pay":0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":0} 
[2025-11-21 21:46:30] local.INFO: Processing allowance/bonus settings for taxable income {"employee_id":46,"allowance_settings":{"Illuminate\\Support\\Collection":[{"code":"rice_allowance","name":"RA","is_taxable":true,"type":"allowance"},{"code":"transportation_allowance","name":"TA","is_taxable":false,"type":"allowance"},{"code":"load_allowance","name":"Communication Allowance","is_taxable":false,"type":"allowance"},{"code":"transportation_allowance_1","name":"Transportation Allowance","is_taxable":false,"type":"allowance"}]},"bonus_settings":{"Illuminate\\Support\\Collection":[{"code":"13th_month_bonus","name":"13th Month","is_taxable":false,"type":"bonus"},{"code":"performance_bonus","name":"PB","is_taxable":true,"type":"bonus"}]}} 
[2025-11-21 21:46:30] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"rice_allowance","setting_name":"RA","setting_type":"allowance","is_taxable":true,"calculation_type":"fixed_amount","fixed_amount":"4000.00","frequency":"monthly"} 
[2025-11-21 21:46:30] local.INFO: Processing taxable setting: rice_allowance (allowance)  
[2025-11-21 21:46:30] local.INFO: Added taxable distributed amount {"setting_code":"rice_allowance","setting_type":"allowance","original_amount":"4000.00","distributed_amount":2000.0,"running_taxable_income":2000.0} 
[2025-11-21 21:46:30] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"transportation_allowance","setting_name":"TA","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"300.00","frequency":"monthly"} 
[2025-11-21 21:46:30] local.INFO: Skipping non-taxable setting: transportation_allowance (allowance)  
[2025-11-21 21:46:30] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"load_allowance","setting_name":"Communication Allowance","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"300.00","frequency":"monthly"} 
[2025-11-21 21:46:30] local.INFO: Skipping non-taxable setting: load_allowance (allowance)  
[2025-11-21 21:46:30] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"transportation_allowance_1","setting_name":"Transportation Allowance","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"1500.00","frequency":"monthly"} 
[2025-11-21 21:46:30] local.INFO: Skipping non-taxable setting: transportation_allowance_1 (allowance)  
[2025-11-21 21:46:30] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"13th_month_bonus","setting_name":"13th Month","setting_type":"bonus","is_taxable":false,"calculation_type":"automatic","fixed_amount":"211.00","frequency":"per_payroll"} 
[2025-11-21 21:46:30] local.INFO: Skipping non-taxable setting: 13th_month_bonus (bonus)  
[2025-11-21 21:46:30] local.INFO: Evaluating setting for taxable income {"employee_id":46,"setting_code":"performance_bonus","setting_name":"PB","setting_type":"bonus","is_taxable":true,"calculation_type":"fixed_amount","fixed_amount":"3000.00","frequency":"per_payroll"} 
[2025-11-21 21:46:30] local.INFO: Processing taxable setting: performance_bonus (bonus)  
[2025-11-21 21:46:30] local.INFO: Added taxable distributed amount {"setting_code":"performance_bonus","setting_type":"bonus","original_amount":"3000.00","distributed_amount":"3000.00","running_taxable_income":5000.0} 
[2025-11-21 21:46:30] local.INFO: Processing incentive settings for taxable income {"employee_id":46,"incentive_settings":{"Illuminate\\Support\\Collection":[{"code":"perfect_attendance_test","name":"PA","is_taxable":true,"type":"incentives"}]}} 
[2025-11-21 21:46:30] local.INFO: Evaluating incentive setting for taxable income {"employee_id":46,"setting_code":"perfect_attendance_test","setting_name":"PA","setting_type":"incentives","is_taxable":true,"requires_perfect_attendance":true} 
[2025-11-21 21:46:30] local.INFO: Skipping incentive setting due to imperfect attendance: perfect_attendance_test for employee 46  
[2025-11-21 21:46:30] local.INFO: Final taxable income calculation for employee 46 {"basic_pay":0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":0,"base_total":0,"gross_pay":5351.48,"final_taxable_income":5000.0,"allowance_settings_count":4,"bonus_settings_count":2} 
[2025-11-21 21:46:30] local.INFO: Updated payroll_details for employee 46 to match snapshot {"regular_pay":0,"holiday_pay":0,"overtime_pay":0,"gross_pay":5351.48} 
[2025-11-21 21:46:30] local.INFO: Created snapshot for employee 46 with calculated values {"payroll_id":4189,"employee_id":46,"basic_pay":0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"gross_pay":5351.48,"total_deductions":0,"net_pay":5351.48,"deductions_count":3} 
[2025-11-21 21:46:30] local.INFO: Successfully created 1 snapshots for payroll 4189  
[2025-11-21 21:46:30] local.INFO: Successfully created 1 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:46:40] local.INFO: Employee shares calculations updated for paid payroll {"payroll_id":4189,"payroll_number":"SEM-202511-001"} 
[2025-11-21 21:46:40] local.INFO: Payroll marked as paid {"payroll_id":4189,"payroll_number":"SEM-202511-001","marked_by":1,"proof_files_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:47] local.INFO: Draft Payroll Calculation for Employee 42 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0,"days_worked":0,"regular_hours":0,"overtime_hours":0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0,"undertime_hours":0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:46:47] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:47] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:48] local.INFO: Starting individual payroll creation for 1 employees  
[2025-11-21 21:46:48] local.INFO: Creating payroll for employee: 42 - XYRUS ILAR  
[2025-11-21 21:46:48] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:48] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":0} 
[2025-11-21 21:46:48] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:48] local.INFO: Processing Payroll Calculation for Employee 42 {"basic_salary":0,"regular_pay":0,"overtime_pay":0,"holiday_pay":0,"rest_day_pay":0,"allowances":2300.0,"allowances_details":{"load_allowance":{"name":"Communication Allowance","amount":150.0,"is_taxable":false},"rice_allowance":{"name":"RA","amount":2000.0,"is_taxable":true},"transportation_allowance":{"name":"TA","amount":150.0,"is_taxable":false}},"bonuses":3000.0,"bonuses_details":{"performance_bonus":{"name":"PB","amount":"3000.00","is_taxable":true}},"incentives":0,"incentives_details":[],"gross_pay":5300.0,"net_pay":5300.0,"hours_worked":0,"days_worked":0,"regular_hours":0,"overtime_hours":0,"holiday_hours":0,"rest_day_hours":0,"late_hours":0,"undertime_hours":0,"late_deductions":0,"undertime_deductions":0,"cash_advance_deductions":0,"cash_advance_details":[]} 
[2025-11-21 21:46:48] local.INFO: Created payroll SEM-202511-002 for employee 42  
[2025-11-21 21:46:48] local.INFO: Created payroll detail for employee 42: Gross: 5300, Net: 5300  
[2025-11-21 21:46:48] local.INFO: Creating snapshots for payroll 4190  
[2025-11-21 21:46:48] local.INFO: Creating snapshots for payroll 4190  
[2025-11-21 21:46:48] local.INFO: Employee breakdown data for employee 42 {"employee_name":"XYRUS ILAR","hourly_rate":156.25,"breakdown_count":0,"breakdown_types":[]} 
[2025-11-21 21:46:48] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":false,"current_fixed_pay":0,"breakdown_data_count":"not_array","will_use_current_only":false} 
[2025-11-21 21:46:48] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":1} 
[2025-11-21 21:46:48] local.INFO: Adding payroll detail to 13th month {"payroll_id":4190,"regular_pay":"0.00","holiday_pay":"0.00","running_total":0.0} 
[2025-11-21 21:46:48] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0.0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:48] local.INFO: Snapshot breakdown debug for employee 42 {"employee_name":"XYRUS ILAR","time_breakdown_keys":[],"basic_breakdown":[],"suspension_breakdown":[],"suspension_breakdown_empty":true,"basic_breakdown_before_merge":[]} 
[2025-11-21 21:46:48] local.INFO: No suspension breakdown to merge for employee 42  
[2025-11-21 21:46:48] local.INFO: Distribution applied to bonus {"bonus_name":"Communication Allowance","employee_id":42,"original_amount":"300.00","distributed_amount":150.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:48] local.INFO: Distribution applied to bonus {"bonus_name":"Transportation Allowance","employee_id":42,"original_amount":"1500.00","distributed_amount":0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:48] local.INFO: Distribution applied to bonus {"bonus_name":"RA","employee_id":42,"original_amount":"4000.00","distributed_amount":2000.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:48] local.INFO: Distribution applied to bonus {"bonus_name":"TA","employee_id":42,"original_amount":"300.00","distributed_amount":150.0,"pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:48] local.INFO: 13th Month Final Calculation {"total_fixed_pay":0,"expected_total":2780.0,"monthly_13th":0} 
[2025-11-21 21:46:48] local.INFO: 13th Month calculation logic check {"employee_id":42,"has_breakdown_data":true,"current_fixed_pay":0,"breakdown_data_count":2,"will_use_current_only":false} 
[2025-11-21 21:46:48] local.INFO: 13th Month Pay - Processing existing payroll details (draft mode) {"employee_id":42,"year":"2025","payroll_count":1} 
[2025-11-21 21:46:48] local.INFO: Adding payroll detail to 13th month {"payroll_id":4190,"regular_pay":"0.00","holiday_pay":"0.00","running_total":0.0} 
[2025-11-21 21:46:48] local.INFO: 13th Month Pay final calculation (draft mode) {"employee_id":42,"total_basic_pay_for_year":0.0,"monthly_13th_month_amount":0.0} 
[2025-11-21 21:46:48] local.INFO: Automatic bonus calculation result {"setting_name":"13th Month","employee_id":42,"calculated_amount":0.0,"has_breakdown_data":true,"frequency":"per_payroll","distribution_method":"last_payroll"} 
[2025-11-21 21:46:48] local.INFO: Bonus calculation in getEmployeeBonusesBreakdown {"bonus_name":"13th Month","employee_id":42,"raw_calculated_amount":0.0,"calculation_type":"automatic","has_breakdown_data":true} 
[2025-11-21 21:46:48] local.INFO: Distribution applied to bonus {"bonus_name":"PB","employee_id":42,"original_amount":"3000.00","distributed_amount":"3000.00","pay_schedule":"semi_monthly","period_start":"2025-11-06 00:00:00","period_end":"2025-11-20 00:00:00"} 
[2025-11-21 21:46:48] local.INFO: Bonus calculation in getEmployeeBonusesBreakdown {"bonus_name":"PB","employee_id":42,"raw_calculated_amount":3000.0,"calculation_type":"fixed_amount","has_breakdown_data":true} 
[2025-11-21 21:46:48] local.INFO: Snapshot calculation for employee 42 {"basic_pay":0,"regular_workday_pay":0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"regular_workday_hours":0,"regular_workday_overtime_hours":0,"total_regular_hours_all_types":0,"total_overtime_hours_all_types":0,"total_holiday_hours":0,"gross_pay":5300.0} 
[2025-11-21 21:46:48] local.INFO: Base taxable income calculation for employee 42 {"basic_pay":0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":0} 
[2025-11-21 21:46:48] local.INFO: Processing allowance/bonus settings for taxable income {"employee_id":42,"allowance_settings":{"Illuminate\\Support\\Collection":[{"code":"rice_allowance","name":"RA","is_taxable":true,"type":"allowance"},{"code":"transportation_allowance","name":"TA","is_taxable":false,"type":"allowance"},{"code":"load_allowance","name":"Communication Allowance","is_taxable":false,"type":"allowance"},{"code":"transportation_allowance_1","name":"Transportation Allowance","is_taxable":false,"type":"allowance"}]},"bonus_settings":{"Illuminate\\Support\\Collection":[{"code":"13th_month_bonus","name":"13th Month","is_taxable":false,"type":"bonus"},{"code":"performance_bonus","name":"PB","is_taxable":true,"type":"bonus"}]}} 
[2025-11-21 21:46:48] local.INFO: Evaluating setting for taxable income {"employee_id":42,"setting_code":"rice_allowance","setting_name":"RA","setting_type":"allowance","is_taxable":true,"calculation_type":"fixed_amount","fixed_amount":"4000.00","frequency":"monthly"} 
[2025-11-21 21:46:48] local.INFO: Processing taxable setting: rice_allowance (allowance)  
[2025-11-21 21:46:48] local.INFO: Added taxable distributed amount {"setting_code":"rice_allowance","setting_type":"allowance","original_amount":"4000.00","distributed_amount":2000.0,"running_taxable_income":2000.0} 
[2025-11-21 21:46:48] local.INFO: Evaluating setting for taxable income {"employee_id":42,"setting_code":"transportation_allowance","setting_name":"TA","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"300.00","frequency":"monthly"} 
[2025-11-21 21:46:48] local.INFO: Skipping non-taxable setting: transportation_allowance (allowance)  
[2025-11-21 21:46:48] local.INFO: Evaluating setting for taxable income {"employee_id":42,"setting_code":"load_allowance","setting_name":"Communication Allowance","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"300.00","frequency":"monthly"} 
[2025-11-21 21:46:48] local.INFO: Skipping non-taxable setting: load_allowance (allowance)  
[2025-11-21 21:46:48] local.INFO: Evaluating setting for taxable income {"employee_id":42,"setting_code":"transportation_allowance_1","setting_name":"Transportation Allowance","setting_type":"allowance","is_taxable":false,"calculation_type":"fixed_amount","fixed_amount":"1500.00","frequency":"monthly"} 
[2025-11-21 21:46:48] local.INFO: Skipping non-taxable setting: transportation_allowance_1 (allowance)  
[2025-11-21 21:46:48] local.INFO: Evaluating setting for taxable income {"employee_id":42,"setting_code":"13th_month_bonus","setting_name":"13th Month","setting_type":"bonus","is_taxable":false,"calculation_type":"automatic","fixed_amount":"211.00","frequency":"per_payroll"} 
[2025-11-21 21:46:48] local.INFO: Skipping non-taxable setting: 13th_month_bonus (bonus)  
[2025-11-21 21:46:48] local.INFO: Evaluating setting for taxable income {"employee_id":42,"setting_code":"performance_bonus","setting_name":"PB","setting_type":"bonus","is_taxable":true,"calculation_type":"fixed_amount","fixed_amount":"3000.00","frequency":"per_payroll"} 
[2025-11-21 21:46:48] local.INFO: Processing taxable setting: performance_bonus (bonus)  
[2025-11-21 21:46:48] local.INFO: Added taxable distributed amount {"setting_code":"performance_bonus","setting_type":"bonus","original_amount":"3000.00","distributed_amount":"3000.00","running_taxable_income":5000.0} 
[2025-11-21 21:46:48] local.INFO: Processing incentive settings for taxable income {"employee_id":42,"incentive_settings":{"Illuminate\\Support\\Collection":[{"code":"perfect_attendance_test","name":"PA","is_taxable":true,"type":"incentives"}]}} 
[2025-11-21 21:46:48] local.INFO: Evaluating incentive setting for taxable income {"employee_id":42,"setting_code":"perfect_attendance_test","setting_name":"PA","setting_type":"incentives","is_taxable":true,"requires_perfect_attendance":true} 
[2025-11-21 21:46:48] local.INFO: Skipping incentive setting due to imperfect attendance: perfect_attendance_test for employee 42  
[2025-11-21 21:46:48] local.INFO: Final taxable income calculation for employee 42 {"basic_pay":0,"holiday_pay":0,"rest_pay":0,"overtime_pay":0,"base_taxable_income":0,"base_total":0,"gross_pay":5300.0,"final_taxable_income":5000.0,"allowance_settings_count":4,"bonus_settings_count":2} 
[2025-11-21 21:46:48] local.INFO: Updated payroll_details for employee 42 to match snapshot {"regular_pay":0,"holiday_pay":0,"overtime_pay":0,"gross_pay":5300.0} 
[2025-11-21 21:46:48] local.INFO: Created snapshot for employee 42 with calculated values {"payroll_id":4190,"employee_id":42,"basic_pay":0,"holiday_pay":0,"overtime_pay":0,"rest_pay":0,"gross_pay":5300.0,"total_deductions":0,"net_pay":5300.0,"deductions_count":1} 
[2025-11-21 21:46:48] local.INFO: Successfully created 1 snapshots for payroll 4190  
[2025-11-21 21:46:48] local.INFO: Successfully created 1 individual payrolls for SEMI-2 schedule  
[2025-11-21 21:47:02] local.INFO: Payroll deleted {"payroll_id":4190,"payroll_number":"SEM-202511-002","status":"approved","deleted_by":1,"deleted_by_name":"System Administrator"} 
[2025-11-21 21:47:04] local.INFO: Payroll deleted {"payroll_id":4189,"payroll_number":"SEM-202511-001","status":"approved","deleted_by":1,"deleted_by_name":"System Administrator"} 
[2025-11-21 21:47:04] local.INFO: Cash advance deductions reversed for deleted payroll {"payroll_id":4189,"payroll_number":"SEM-202511-001"} 
